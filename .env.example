# ==============================================
# SafeSight Analytics - Environment Variables
# ==============================================
# Copy this file to .env and fill in your values

# ==============================================
# DATABASE CONFIGURATION
# ==============================================
# For local development (Docker Compose)
DATABASE_URL=postgresql+asyncpg://safesight:changeme@localhost:5432/safesight

# For Railway/Render deployment, use the provided DATABASE_URL
# Example: postgresql+asyncpg://user:pass@host.railway.app:5432/railway

# PostgreSQL credentials (for Docker Compose only)
POSTGRES_USER=safesight
POSTGRES_PASSWORD=changeme
POSTGRES_DB=safesight

# ==============================================
# BACKEND SECURITY
# ==============================================
# IMPORTANT: Generate a secure random string (minimum 32 characters)
# You can generate one with: openssl rand -hex 32
SECRET_KEY=your-super-secret-key-change-this-in-production-please-use-at-least-32-characters

# JWT Token expiration
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7
PASSWORD_RESET_TOKEN_EXPIRE_MINUTES=60

# ==============================================
# CORS CONFIGURATION
# ==============================================
# Allowed origins for CORS (comma-separated)
# For local: http://localhost:3000,http://localhost:5173
# For production: https://your-frontend-url.railway.app
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# ==============================================
# SERVICE URLS
# ==============================================
# Backend API URL (used by frontend and vision service)
BACKEND_URL=http://localhost:8000

# Vision Service URL (used by backend)
VISION_SERVICE_URL=http://localhost:8001

# Frontend URL (used by NextAuth)
FRONTEND_URL=http://localhost:3000

# ==============================================
# NEXTAUTH CONFIGURATION (Frontend)
# ==============================================
# NextAuth URL (should match your frontend URL)
NEXTAUTH_URL=http://localhost:3000

# NextAuth Secret (generate with: openssl rand -base64 32)
NEXTAUTH_SECRET=another-random-secret-key-for-nextauth-minimum-32-characters

# API URL for frontend (public-facing)
NEXT_PUBLIC_API_URL=http://localhost:8000

# ==============================================
# AI MODEL CONFIGURATION
# ==============================================
# Face recognition model (SFace, VGG-Face, Facenet, etc.)
FACE_MODEL=SFace

# Object detection model path
YOLO_MODEL_PATH=yolov8n.pt

# Confidence thresholds
FACE_CONFIDENCE_THRESHOLD=0.6
OBJECT_CONFIDENCE_THRESHOLD=0.5

# ==============================================
# PERFORMANCE SETTINGS
# ==============================================
# Process every Nth frame (1 = every frame, 2 = every other frame)
FRAME_SKIP=2

# Maximum video resolution (width)
MAX_VIDEO_WIDTH=640

# Enable GPU acceleration (true/false)
USE_GPU=false

# ==============================================
# DEPLOYMENT PLATFORM
# ==============================================
# Set to 'railway', 'render', 'local', etc.
DEPLOYMENT_ENV=local

# ==============================================
# LOGGING
# ==============================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# ==============================================
# NOTES FOR DEPLOYMENT
# ==============================================
# Railway Deployment:
# - DATABASE_URL is automatically provided by Railway PostgreSQL
# - Set BACKEND_URL to your backend Railway domain
# - Set VISION_SERVICE_URL to your vision service Railway domain
# - Set NEXTAUTH_URL to your frontend Railway domain
# - Generate secure random strings for SECRET_KEY and NEXTAUTH_SECRET
#
# Render Deployment:
# - Similar to Railway, use the provided DATABASE_URL
# - Update all service URLs to match your Render domains
#
# Local Development:
# - Use the default values above
# - Run with docker-compose up
